<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.0.7 (451372)"/><meta name="keywords" content="datatime"/><meta name="author" content="ashley17061@gmail.com"/><meta name="created" content="2015-02-18 14:39:38 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2015-03-22 14:31:46 +0000"/><title>20150218_DataTime</title></head><body>
<div><b>Get on the EC2, hook up with the qiime 1.9.0 image</b></div>
<div>1.  Go to the QIIME resources page to find the most recent AMI:</div>
<div>     <a href="http://qiime.org/home_static/dataFiles.html">http://qiime.org/home_static/dataFiles.html</a></div>
<div>2.  Log onto Amazon EC2.  Click on EC2 (upper left screen)</div>
<div>3.  Click on the blue “launch instance” button</div>
<div>4.  On the left menu panel, click on “Community AMIs"</div>
<div>5.  Paste the latest QIIME AMI into the search box.</div>
<div>6.  Select the general purpose “m3.large” instance</div>
<div>7.  Click “configure details”</div>
<div>…. go through the configuration; do not change any other defaults except to add your key.</div>
<div>     </div>
<div>New tutorial:  transferring files to and from EC2</div>
<div>Install Filezilla before arrival?  as back up for file transfer</div>
<div><br/></div>
<div>SCP from your home computer to the EC2 instance:</div>
<div><span style="font: 15.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;scp -i ~/Dropbox/EDAMAME2014/EDAMAME.pem mock_com_merged.fastq ubuntu@ec2-52-0-100-101.compute-1.amazonaws.com:/home/ubuntu/</span> </div>
<div><br/></div>
<div>Once in qiime:</div>
<div>Step 1:</div>
<div>Convert fastq to fasta + qual files (do this in PANDAseq in advance)</div>
<div><span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures">&gt;<a href="http://convert_fastaqual_fastq.py">convert_fastaqual_fastq.py</a> -f pandaseq_merged/mock_com_merged.fastq -c fastq_to_fastaqual</span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">Step 2:</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">add_qiime_labels.py</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">make your mapping file in a text editor and UPLOAD IT WITH YOUR DATA!  Do not try to do it on the EC2!</span></span></div>
<div><span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures"><a href="http://add_qiime_labels.py">add_qiime_labels.py</a> -i fastq_to_fna/ -m map2.txt -c Description</span></div>
<div><font face="Menlo"><span style="font-size: 11px;"> One of the columns must contain the .fna </span><span style="font-size: 11px;">exact</span><span style="font-size: 11px;"> file name.  In the above case, it was in the Description column</span></font></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">OTU picking:</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">de novo - OTU based on seq. identity</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">ref based - OTU based on identity/match to an existing gold standard database</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">closed ref - ref based, discard any sequences that do not hit the database.  best for well-described systems and genes that have well-populated databases.</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">open ref:  use database first, then de novo cluster sequences that do not hit database.  best for systems that are underdescribed/genes that do no populate the databases.</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">Next week:</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">pick_otus.py swarm:  Josh</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">pick_otus.py sumaclust: Sang-Hoon</span></span></div>
<div><font face="Menlo"><span style="font-size: 11px;">pick_open_reference.py uclust w/ </span><span style="font-size: 11px;">prefilter: Ashley</span></font></div>
<div><font face="Menlo"><span style="font-size: 11px;">pick_open_reference.py </span><span style="font-size: 11px;">uclust (no prefilter): John</span></font></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">pick_open_reference.py usearch61 : Jackson</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><span style="font: 15.0px Menlo; font-variant-ligatures: no-common-ligatures">scp -i ~/Dropbox/EDAMAME2014/EDAMAME.pem <span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures"><a href="mailto:ubuntu@ec2-54-175-75-55.compute-1.amazonaws.com">ubuntu@ec2-54-175-75-55.compute-1.amazonaws.com</a>:/home/ubuntu/</span></span></span></span><span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures">cent_meta_subsample.fna</span> <span style="font-size: 11px;"><span style="font-family: Menlo;"><span style="font: 15.0px Menlo; font-variant-ligatures: no-common-ligatures"><span style="font: 11.0px Menlo; font-variant-ligatures: no-common-ligatures">~/Download/</span></span></span></span></div>
<div><span style="font-size: 15px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;">$scp -i ~/Desktop/amazon.pem ubuntu@ec2-54-166-128-20.compute-1.amazonaws.com:/data/ecoli_ref-5m-trim.fastq.gz ~/Download/</span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
<div><span style="font-size: 11px;"><span style="font-family: Menlo;"><br/></span></span></div>
</body></html>